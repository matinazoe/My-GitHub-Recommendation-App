{% extends 'base.html' %}

{% load staticfiles %}
{% block title %}
<h1>Repos by {{ username }}</h1>
{% endblock %}

{% block content %}
	{% if repos %}
		<div class="row">
			{% if tag %}
				<h2>Projects tagged with "{{ tag.name }}"</h2>
			{% endif %}
			{% for repo in repo_list %}
			<div class="col-xs-6 col-lg-4">
				<h4><a href="{% url 'recommendations:repo_detail' repo.id %}">
				{{ repo.name }}</a></h4>
				<p class="tags">
					Tags: 
					{% for tag in repo.tags.all %}
						<a href="{% url 'recommendations:repo_list_by_tag' tag.slug %}">{{ tag.name }}</a>
						{% if not forloop.last %}, {% endif %}
					{% endfor %}
				</p>
				</p> <b> Owner: </b> <a href="{% url 'recommendations:user_repo_list' repo.owner_id %}">{{ repo.owner_id }}</a>
				
				<h5>{{ repo.review_set.count }} reviews </h5>
				<h5>{{ repo.average_rating | floatformat }} average rating</h5>
			</div>
			{% endfor %}
		</div>
	{% else %}
		<p>No repos are available.</p>
	{% endif %}
	{% include "pagination.html" with page=repos %}
{% endblock %}

